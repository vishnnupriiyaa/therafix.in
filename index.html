
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>therafix.in - Hyderabad</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the Inter font and basic body setup */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth; /* Smooth scrolling for navigation */
        }

        /* Keyframe for fade-in-up animation */
        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Apply animation classes */
        .animate-fade-in-up {
            animation: fade-in-up 0.6s ease-out forwards;
            opacity: 0; /* Start invisible */
        }
        .delay-200 { animation-delay: 0.2s; }
        .delay-400 { animation-delay: 0.4s; }

        /* Custom style for the hero section background - now a clean gradient */
        .hero-background {
            position: relative; /* Needed for pseudo-element overlay */
            z-index: 0; /* Ensure content is above this layer */
        }

        .hero-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /* Integrated gradient overlay for professional look - two shades of Violet */
            background: linear-gradient(to bottom right, rgba(167, 139, 250, 0.9), rgba(109, 40, 217, 0.9)); /* violet-400 to violet-700 with higher opacity */
            z-index: 1; /* Overlay above image, below text */
        }

        /* Styling for the active navigation item */
        .nav-item.active {
            background-color: theme('colors.violet.100'); /* Lighter violet for active state */
            color: theme('colors.violet.700'); /* Darker violet for text */
            font-weight: 600;
        }

        /* Enhanced card hover effect for a more template-like feel */
        .card-hover-effect:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease-in-out;
        }

        /* Custom button style for primary actions */
        /* Use Tailwind utility classes directly in HTML instead of @apply */

        /* Custom button style for secondary actions */
        /* Use Tailwind utility classes directly in HTML instead of @apply */

        /* Input field styling */
        /* .input-field removed: use Tailwind utility classes directly in HTML */

        /* Spinner animation for loading states - adjusted color */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #8B5CF6; /* Tailwind violet-500 */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased bg-gray-50 text-gray-800">

    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white shadow-lg p-4 flex items-center justify-between">
        <div class="flex items-center space-x-2">
            <!-- Lucide Heart Icon (SVG equivalent) - color changed to violet-600 -->
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-violet-600">
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
            </svg>
            <h1 class="text-2xl font-bold text-gray-800">therafix.in</h1>
        </div>
        <div class="hidden md:flex space-x-6" id="nav-links-desktop">
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="home">
                <!-- Lucide Home Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                <span>Home</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="about">
                <!-- Lucide Info Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                <span>About</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="services">
                <!-- Lucide Heart Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                <span>Services</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="testimonials">
                <!-- Lucide Message Circle Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>
                <span>Testimonials</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="contact">
                <!-- Lucide Phone Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <span>Contact</span>
            </button>
        </div>
        <!-- Mobile Navigation Toggle -->
        <div class="md:hidden">
            <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>
    <div id="mobile-menu" class="fixed top-0 right-0 h-full w-64 bg-white shadow-xl z-50 transform translate-x-full transition-transform duration-300 ease-in-out md:hidden">
        <div class="p-4 flex justify-end">
            <button id="close-mobile-menu" class="text-gray-600 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <div class="flex flex-col space-y-4 p-4">
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="home">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                <span>Home</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="about">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                <span>About</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="services">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                <span>Services</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="testimonials">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>
                <span>Testimonials</span>
            </button>
            <button class="nav-item flex items-center space-x-2 p-2 rounded-lg transition duration-300 ease-in-out text-gray-600 hover:bg-gray-100 hover:text-gray-800" data-section-id="contact">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0  0 1 22 16.92z"/></svg>
                <span>Contact</span>
            </button>
        </div>
    </div>


    <!-- Hero Section -->
    <section id="home" class="relative text-white py-24 md:py-32 lg:py-48 flex items-center justify-center min-h-screen pt-20 hero-background">
        <div class="container mx-auto px-4 text-center relative z-20">
            <h2 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6 animate-fade-in-up">
                When healing feels out of reach, we bring it closer
            </h2>
            <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto animate-fade-in-up delay-200">
                Empowering you with personalized tools and support for mental well-being in Hyderabad.
            </p>
            <div class="inline-block bg-white bg-opacity-20 backdrop-blur-sm p-4 rounded-xl shadow-lg animate-fade-in-up delay-400">
                <button
                    onclick="console.log('Download App clicked')"
                    class="btn-primary"
                >
                    Download the App
                </button>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 md:py-24 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <h3 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">About therafix.in in Hyderabad</h3>
            <div class="flex flex-col md:flex-row items-center space-y-8 md:space-y-0 md:space-x-12">
                <div class="md:w-1/2">
                    <img
                        src="https://placehold.co/600x400/C7B8E6/6D28D9?text=therafix.in+Hyderabad"
                        alt="therafix.in App Interface"
                        class="rounded-xl shadow-lg w-full h-auto object-cover"
                        onerror="this.onerror=null;this.src='https://placehold.co/600x400';"
                    />
                </div>
                <div class="md:w-1/2 text-lg leading-relaxed text-gray-700">
                    <p class="mb-4">
                        therafix.in is dedicated to providing compassionate mental health support to the community of Hyderabad. We believe
                        that everyone deserves access to effective and personalized mental well-being tools, right at their fingertips.
                    </p>
                    <p>
                        Our platform integrates evidence-based techniques with user-friendly features, offering guided meditations,
                        cognitive behavioral therapy (CBT) exercises, mood tracking, and a secure journaling space. We aim to
                        demystify mental health support and make it accessible, engaging, and stigma-free across Hyderabad.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section - Now dynamic for Clinics, Therapists, and Profiles -->
    <section id="services" class="py-16 md:py-24 bg-violet-50">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">Our Services & Therapists in Hyderabad</h3>

            <!-- Dynamic content area -->
            <div id="services-content-area">
                <!-- Clinics View -->
                <div id="clinics-view" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Clinics will be rendered here by JavaScript -->
                </div>

                <!-- Therapists View -->
                <div id="therapists-view" class="hidden">
                    <button id="back-to-clinics-button" class="mb-6 flex items-center space-x-2 text-violet-600 hover:text-violet-700 font-semibold transition duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
                        <span>Back to Clinics</span>
                    </button>
                    <h4 class="text-2xl md:text-3xl font-bold mb-8 text-gray-800" id="current-clinic-name"></h4>
                    <div id="therapists-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Therapists will be rendered here by JavaScript -->
                    </div>
                </div>

                <!-- Therapist Profile View -->
                <div id="therapist-profile-view" class="hidden">
                    <button id="back-to-therapists-button" class="mb-6 flex items-center space-x-2 text-violet-600 hover:text-violet-700 font-semibold transition duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
                        <span>Back to Therapists</span>
                    </button>
                    <div id="therapist-profile-detail" class="bg-white rounded-xl shadow-md p-8 max-w-2xl mx-auto flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8 border border-gray-100">
                        <!-- Therapist profile will be rendered here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-16 md:py-24 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <h3 class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">What Our Users in Hyderabad Say</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Testimonial Card 1 (Hyderabad specific) -->
                <div class="bg-violet-50 rounded-xl shadow-sm p-6 transform hover:scale-[1.02] transition duration-300 ease-in-out border border-violet-100">
                    <p class="text-lg italic text-gray-700 mb-4">"therafix.in connected me with an amazing therapist right here in Gachibowli. Highly recommended!"</p>
                    <p class="font-semibold text-gray-800">— Sanya K., Hyderabad</p>
                </div>
                <!-- Testimonial Card 2 (Hyderabad specific) -->
                <div class="bg-violet-50 rounded-xl shadow-sm p-6 transform hover:scale-[1.02] transition duration-300 ease-in-out border border-violet-100">
                    <p class="text-lg italic text-gray-700 mb-4">"Finding quality mental health support in Hyderabad was tough until I found therafix.in. It's a lifesaver!"</p>
                    <p class="font-semibold text-gray-800">— Ravi P., Jubilee Hills</p>
                </div>
                 <!-- Testimonial Card 3 (Hyderabad specific) -->
                <div class="bg-violet-50 rounded-xl shadow-sm p-6 transform hover:scale-[1.02] transition duration-300 ease-in-out border border-violet-100">
                    <p class="text-lg italic text-gray-700 mb-4">"The platform is so intuitive, and the therapists in Hyderabad are truly dedicated. Thank you, therafix.in!"</p>
                    <p class="font-semibold text-gray-800">— Meera D., Kondapur</p>
                </div>
                <!-- Testimonial Card 4 (Hyderabad specific) -->
                <div class="bg-violet-50 rounded-xl shadow-sm p-6 transform hover:scale-[1.02] transition duration-300 ease-in-out border border-100">
                    <p class="text-lg italic text-gray-700 mb-4">"I appreciate the easy navigation and detailed therapist profiles for Hyderabad. Made my choice so much easier."</p>
                    <p class="font-semibold text-gray-800">— Arjun V., Secunderabad</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 md:py-24 bg-gradient-to-br from-violet-300 to-violet-500 text-white">
        <div class="container mx-auto px-4 max-w-2xl text-center">
            <h3 class="text-3xl md:text-4xl font-bold mb-8">Get In Touch</h3>
            <p class="text-lg mb-8">
                Have questions or feedback? We'd love to hear from you!
            </p>
            <form class="bg-white p-8 rounded-xl shadow-lg text-gray-800">
                <div class="mb-6 text-left">
                    <label for="name" class="block text-gray-700 text-sm font-semibold mb-2">Name</label>
                    <input
                        type="text"
                        id="name"
                        class="input-field"
                        placeholder="Your Name"
                    />
                </div>
                <div class="mb-6 text-left">
                    <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Email</label>
                    <input
                        type="email"
                        id="email"
                        class="input-field"
                        placeholder="your@example.com"
                    />
                </div>
                <div class="mb-6 text-left">
                    <label for="message" class="block text-gray-700 text-sm font-semibold mb-2">Message</label>
                    <textarea
                        id="message"
                        rows="5"
                        class="input-field"
                        placeholder="Your message..."
                    ></textarea>
                </div>
                <button
                    type="submit"
                    class="btn-primary w-full"
                >
                    Send Message
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>&copy; <span id="current-year"></span> therafix.in. All rights reserved.</p>
            <div class="mt-4 space-x-4">
                <a href="#privacy" class="hover:underline">Privacy Policy</a>
                <a href="#terms" class="hover:underline">Terms of Service</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year in the footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // DOM elements for navigation and mobile menu
            const navItems = document.querySelectorAll('.nav-item');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeMobileMenu = document.getElementById('close-mobile-menu');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

            // DOM elements for dynamic services section
            const servicesSection = document.getElementById('services');
            const servicesContentArea = document.getElementById('services-content-area');
            const clinicsView = document.getElementById('clinics-view');
            const therapistsView = document.getElementById('therapists-view');
            const therapistProfileView = document.getElementById('therapist-profile-view');
            const backToClinicsButton = document.getElementById('back-to-clinics-button');
            const backToTherapistsButton = document.getElementById('back-to-therapists-button');
            const currentClinicNameDisplay = document.getElementById('current-clinic-name');
            const therapistsListDiv = document.getElementById('therapists-list');
            const therapistProfileDetailDiv = document.getElementById('therapist-profile-detail');

            let currentClinicId = null;

            // Sample Data for Clinics and Therapists (Hyderabad ONLY)
            const clinicsData = [
                {
                    id: 'clinicHyderabad1',
                    name: 'MindWell Hyderabad (Gachibowli)',
                    address: 'Plot No. 10, Gachibowli, Hyderabad, Telangana',
                    image: 'https://placehold.co/400x200/C7B8E6/6D28D9?text=MindWell+Gachibowli',
                    therapists: [
                        { id: 't1_h1', name: 'Dr. Anand Rao', specialization: 'Cognitive Behavioral Therapy', bio: 'Dr. Rao specializes in CBT, helping clients in Hyderabad manage anxiety, depression, and stress with personalized strategies.', image: 'https://placehold.co/100x100/C7B8E6/6D28D9?text=AR' },
                        { id: 't2_h1', name: 'Ms. Shruti Desai', specialization: 'Child & Adolescent Counseling', bio: 'Ms. Desai provides a nurturing environment for children and adolescents facing emotional and developmental challenges.', image: 'https://placehold.co/100x100/C7B8E6/6D28D9?text=SD' },
                        { id: 't3_h1', name: 'Mr. Rohan Sharma', specialization: 'Relationship & Family Therapy', bio: 'Mr. Sharma works with couples and families to foster healthier communication and resolve interpersonal conflicts.', image: 'https://placehold.co/100x100/C7B8E6/6D28D9?text=RS' }
                    ]
                },
                {
                    id: 'clinicHyderabad2',
                    name: 'Hope Springs Hyderabad (Jubilee Hills)',
                    address: 'Road No. 36, Jubilee Hills, Hyderabad, Telangana',
                    image: 'https://placehold.co/400x200/E0D8F6/6D28D9?text=Hope+Springs+Jubilee',
                    therapists: [
                        { id: 't4_h2', name: 'Dr. Kavita Reddy', specialization: 'Mindfulness & Stress Reduction', bio: 'Dr. Reddy integrates mindfulness-based approaches to help individuals reduce stress and cultivate emotional resilience.', image: 'https://placehold.co/100x100/E0D8F6/6D28D9?text=KR' },
                        { id: 't5_h2', name: 'Mr. Sameer Ali', specialization: 'Anger Management & Emotional Regulation', bio: 'Mr. Ali assists clients in developing effective strategies for anger management and improving emotional regulation.', image: 'https://placehold.co/100x100/E0D8F6/6D28D9?text=SA' }
                    ]
                },
                {
                    id: 'clinicHyderabad3',
                    name: 'Healing Touch Hyderabad (Kondapur)',
                    address: 'Hitech City Road, Kondapur, Hyderabad, Telangana',
                    image: 'https://placehold.co/400x200/F0EBFB/6D28D9?text=Healing+Touch+Kondapur',
                    therapists: [
                        { id: 't6_h3', name: 'Ms. Pooja Singh', specialization: 'Trauma-Informed Counseling', bio: 'Ms. Singh offers a safe and supportive space for individuals to process trauma and work towards healing and post-traumatic growth.', image: 'https://placehold.co/100x100/F0EBFB/6D28D9?text=PSi' },
                        { id: 't7_h3', name: 'Dr. Vikram Kumar', specialization: 'Grief & Bereavement Support', bio: 'Dr. Kumar provides compassionate support to those experiencing grief and loss, guiding them through their healing journey.', image: 'https://placehold.co/100x100/F0EBFB/6D28D9?text=VK' }
                    ]
                }
            ];

            // Helper function for making API calls with exponential backoff
            async function fetchWithRetry(url, options, retries = 3, delay = 1000) {
                for (let i = 0; i < retries; i++) {
                    try {
                        const response = await fetch(url, options);
                        if (response.status === 429 && i < retries - 1) { // Too Many Requests
                            await new Promise(res => setTimeout(res, delay * Math.pow(2, i)));
                            continue;
                        }
                        return response;
                    } catch (error) {
                        if (i < retries - 1) {
                            await new Promise(res => setTimeout(res, delay * Math.pow(2, i)));
                        } else {
                            throw error;
                        }
                    }
                }
                throw new Error('Fetch failed after multiple retries.');
            }

            // Function to close mobile menu
            const closeMenu = () => {
                mobileMenu.classList.add('translate-x-full');
                mobileMenuOverlay.classList.add('hidden');
            };

            // Function to hide all dynamic services views
            const hideAllServiceViews = () => {
                clinicsView.classList.add('hidden');
                therapistsView.classList.add('hidden');
                therapistProfileView.classList.add('hidden');
            };

            // Function to render clinics
            const renderClinics = () => {
                hideAllServiceViews();
                clinicsView.classList.remove('hidden');
                clinicsView.innerHTML = ''; // Clear previous content

                clinicsData.forEach(clinic => {
                    const clinicCard = `
                        <div class="bg-white rounded-xl shadow-md p-6 text-center transform hover:scale-105 transition duration-300 ease-in-out border border-gray-100 card-hover-effect">
                            <img src="${clinic.image}" alt="${clinic.name}" class="rounded-lg mx-auto mb-4 w-full h-32 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x200';">
                            <h4 class="text-xl font-semibold mb-2 text-gray-800">${clinic.name}</h4>
                            <p class="text-gray-600 mb-4 text-sm">${clinic.address}</p>
                            <button class="view-therapists-button btn-primary" data-clinic-id="${clinic.id}">
                                View Therapists
                            </button>
                        </div>
                    `;
                    clinicsView.insertAdjacentHTML('beforeend', clinicCard);
                });

                // Add event listeners to newly created buttons
                document.querySelectorAll('.view-therapists-button').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const clinicId = event.target.dataset.clinicId;
                        currentClinicId = clinicId; // Store current clinic ID
                        renderTherapists(clinicId);
                    });
                });
            };

            // Function to render therapists for a selected clinic
            const renderTherapists = (clinicId) => {
                hideAllServiceViews();
                therapistsView.classList.remove('hidden');
                therapistsListDiv.innerHTML = ''; // Clear previous content

                const clinic = clinicsData.find(c => c.id === clinicId);
                if (clinic) {
                    currentClinicNameDisplay.textContent = `${clinic.name} Therapists`;
                    clinic.therapists.forEach(therapist => {
                        const therapistCard = `
                            <div class="bg-white rounded-xl shadow-md p-6 text-center transform hover:scale-[1.02] transition duration-300 ease-in-out border border-gray-100 card-hover-effect">
                                <img src="${therapist.image}" alt="${therapist.name}" class="rounded-full mx-auto mb-4 w-24 h-24 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/100x100';">
                                <h4 class="text-xl font-semibold mb-2 text-gray-800">${therapist.name}</h4>
                                <p class="text-violet-600 font-medium mb-3">${therapist.specialization}</p>
                                <button class="view-profile-button btn-secondary" data-therapist-id="${therapist.id}" data-clinic-id="${clinic.id}">
                                    View Profile
                                </button>
                            </div>
                        `;
                        therapistsListDiv.insertAdjacentHTML('beforeend', therapistCard);
                    });

                    // Add event listeners to newly created buttons
                    document.querySelectorAll('.view-profile-button').forEach(button => {
                        button.addEventListener('click', (event) => {
                            const therapistId = event.target.dataset.therapistId;
                            const clinicId = event.target.dataset.clinicId; // Pass clinicId for back button context
                            renderTherapistProfile(therapistId, clinicId);
                        });
                    });
                }
            };

            // Function to render a therapist's detailed profile
            const renderTherapistProfile = (therapistId, clinicId) => {
                hideAllServiceViews();
                therapistProfileView.classList.remove('hidden');
                therapistProfileDetailDiv.innerHTML = ''; // Clear previous content

                const clinic = clinicsData.find(c => c.id === clinicId);
                const therapist = clinic ? clinic.therapists.find(t => t.id === therapistId) : null;

                if (therapist) {
                    const profileContent = `
                        <div class="md:w-1/3 flex justify-center">
                            <img src="${therapist.image}" alt="${therapist.name}" class="rounded-full w-32 h-32 object-cover shadow-md" onerror="this.onerror=null;this.src='https://placehold.co/100x100';">
                        </div>
                        <div class="md:w-2/3 text-center md:text-left">
                            <h4 class="text-2xl font-bold text-gray-800 mb-2">${therapist.name}</h4>
                            <p class="text-violet-600 font-semibold text-lg mb-3">${therapist.specialization}</p>
                            <p class="text-gray-700 leading-relaxed mb-6">${therapist.bio}</p>
                            <button id="generate-supportive-thought-button" class="btn-primary flex items-center justify-center gap-2 mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles"><path d="M9.9 2.5l2.6 5.2 5.2 2.6-5.2 2.6-2.6 5.2-2.6-5.2-5.2-2.6 5.2-2.6Z"/><path d="M2.7 17.5l2.1 2.1m14.6-2.1l-2.1 2.1m0-14.6l2.1-2.1M2.7 6.5l2.1-2.1"/></svg>
                                <span>Generate a Supportive Thought</span>
                            </button>
                            <div id="supportive-thought-display" class="bg-violet-50 p-4 rounded-lg italic text-gray-700 text-left shadow-inner min-h-[60px] flex items-center justify-center">
                                Click the button above for an encouraging thought!
                            </div>
                            <button class="mt-6 btn-primary" onclick="console.log('Book session with ${therapist.name} clicked')">
                                Book a Session
                            </button>
                        </div>
                    `;
                    therapistProfileDetailDiv.insertAdjacentHTML('beforeend', profileContent);

                    // Add event listener for the new Gemini API button
                    document.getElementById('generate-supportive-thought-button').addEventListener('click', generateSupportiveThought);
                }
            };

            // Gemini API Integration - Supportive Thought Generator
            async function generateSupportiveThought() {
                const displayArea = document.getElementById('supportive-thought-display');
                const generateButton = document.getElementById('generate-supportive-thought-button');

                // Show loading state
                displayArea.innerHTML = '<div class="flex items-center justify-center space-x-2"><div class="spinner"></div><span>Generating...</span></div>';
                generateButton.disabled = true;
                generateButton.classList.add('opacity-50', 'cursor-not-allowed');

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: "Generate a short (1-2 sentences), encouraging and supportive thought for someone seeking mental wellness, focusing on progress and self-compassion, without directly mentioning therapy or a therapist." }] });

                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Canvas will provide this at runtime
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                    const response = await fetchWithRetry(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        displayArea.textContent = text;
                    } else {
                        displayArea.textContent = 'Could not generate a supportive thought. Please try again.';
                        console.error('Unexpected API response structure:', result);
                    }
                } catch (error) {
                    displayArea.textContent = 'Failed to generate thought. Please check your connection.';
                    console.error('Error calling Gemini API:', error);
                } finally {
                    // Reset button state
                    generateButton.disabled = false;
                    generateButton.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            }


            // Event listeners for desktop navigation
            navItems.forEach(item => {
                item.addEventListener('click', (event) => {
                    const sectionId = item.dataset.sectionId;
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        // Highlight active nav item
                        navItems.forEach(nav => nav.classList.remove('active'));
                        item.classList.add('active');

                        // Scroll to section
                        targetSection.scrollIntoView({ behavior: 'smooth' });

                        // If "Services" is clicked, render clinics
                        if (sectionId === 'services') {
                            renderClinics();
                        }

                        // Close mobile menu if open
                        closeMenu();
                    }
                });
            });

            // Initial highlight for the home section on load
            const initialActiveNavItem = document.querySelector('.nav-item[data-section-id="home"]');
            if (initialActiveNavItem) {
                initialActiveNavItem.classList.add('active');
            }

            // Mobile menu toggle
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.remove('translate-x-full');
                mobileMenuOverlay.classList.remove('hidden');
            });

            // Close mobile menu
            closeMobileMenu.addEventListener('click', closeMenu);
            mobileMenuOverlay.addEventListener('click', closeMenu); // Close when clicking outside menu

            // Handle active section on scroll for desktop nav
            const sections = document.querySelectorAll('section');
            const options = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.5 // trigger when 50% of the section is visible
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const currentActive = document.querySelector('.nav-item.active');
                        if (currentActive) {
                            currentActive.classList.remove('active');
                        }
                        const newActive = document.querySelector(`.nav-item[data-section-id="${entry.target.id}"]`);
                        if (newActive) {
                            newActive.classList.add('active');
                        }
                    }
                });
            }, options);

            sections.forEach(section => {
                observer.observe(section);
            });

            // Back buttons for services section
            backToClinicsButton.addEventListener('click', renderClinics);
            backToTherapistsButton.addEventListener('click', () => {
                if (currentClinicId) {
                    renderTherapists(currentClinicId);
                } else {
                    renderClinics(); // Fallback if clinicId is somehow lost
                }
            });

            // Initial render of clinics when the page loads (or when 'Services' is clicked)
            // This ensures clinics are displayed if the user directly navigates or refreshes on the services section.
            const servicesNavItem = document.querySelector('.nav-item[data-section-id="services"]');
            // Check if we are already on the services section from a previous load or hash
            if (window.location.hash === '#services') {
                renderClinics();
            }
            // Add event listener for explicit click on Services
            servicesNavItem.addEventListener('click', renderClinics);
        });
    </script>
</body>
</html>
